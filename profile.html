<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Your ADHD Support Profile">
    <link rel="shortcut icon" href="./Images/logo.png" type="image/x-icon">
    <title>Profile - ADHD Support Platform</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="./Css/all.min.css">
    <link rel="stylesheet" href="./Css/bootstrap.min.css">
    <link rel="stylesheet" href="./Css/style.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" role="navigation">
        <div class="container">
            <!-- Logo -->
            <a class="navbar-brand d-flex align-items-center" href="index.html">
                <img src="./Images/logo.png" alt="ADHD Support Logo" width="30" height="30" class="d-inline-block align-text-top me-2">
                <span>ADHD Support</span>
            </a>
            
            <!-- Toggler -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <!-- Links -->
            <div class="collapse navbar-collapse" id="navbarContent">
                <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="courses.html">Courses</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="blog.html">Blog</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="live-sessions.html">Live Sessions</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="doctors.html">Our Doctors</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="parents.html">Parents</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                </ul>

                <!-- Auth buttons for non-authenticated users -->
                <div class="auth-buttons d-flex gap-2">
                    <a href="login.html" class="btn btn-outline-purple">Log In</a>
                    <a href="signup.html" class="btn btn-purple">Sign Up</a>
                </div>

                <!-- Profile menu for authenticated users -->
                <div class="profile-menu d-none">
                    <div class="dropdown">
                        <button class="btn btn-link dropdown-toggle profile-toggle" type="button" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                            <img src="./Images/default-avatar.png" alt="Profile" class="profile-avatar">
                            <span class="profile-name">Loading...</span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
                            <li><a class="dropdown-item" href="profile.html#overview"><i class="fas fa-user me-2"></i>Profile</a></li>
                            <li><a class="dropdown-item" href="profile.html#settings"><i class="fas fa-cog me-2"></i>Settings</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><button class="dropdown-item" id="logoutBtn"><i class="fas fa-sign-out-alt me-2"></i>Logout</button></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main class="profile-page">
        <div class="container">
            <div class="row">
                <!-- Sidebar -->
                <div class="col-lg-3">
                    <div class="profile-sidebar">
                        <div class="profile-info text-center">
                            <div class="profile-avatar-large">
                                <img src="./Images/default-avatar.png" alt="Profile Picture" id="profileAvatar">
                                <button class="btn btn-sm btn-purple avatar-edit" title="Change profile picture">
                                    <i class="fas fa-camera"></i>
                                </button>
                            </div>
                            <h2 class="profile-name-large" id="profileName">Loading...</h2>
                            <p class="profile-email" id="profileEmail">loading@email.com</p>
                        </div>
                        <ul class="profile-nav" role="tablist">
                            <li class="active" role="presentation">
                                <a id="overview-tab" href="#overview" data-bs-toggle="tab" role="tab" aria-controls="overview" aria-selected="true">
                                    <i class="fas fa-home"></i> Overview
                                </a>
                            </li>
                            <li role="presentation">
                                <a id="courses-tab" href="#courses" data-bs-toggle="tab" role="tab" aria-controls="courses" aria-selected="false">
                                    <i class="fas fa-graduation-cap"></i> My Courses
                                </a>
                            </li>
                            <li role="presentation">
                                <a id="appointments-tab" href="#appointments" data-bs-toggle="tab" role="tab" aria-controls="appointments" aria-selected="false">
                                    <i class="fas fa-calendar-alt"></i> Appointments
                                </a>
                            </li>
                            <li role="presentation">
                                <a id="settings-tab" href="#settings" data-bs-toggle="tab" role="tab" aria-controls="settings" aria-selected="false">
                                    <i class="fas fa-cog"></i> Settings
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Main Content -->
                <div class="col-lg-9">
                    <div class="tab-content">
                        <!-- Overview Tab -->
                        <div class="tab-pane fade show active" id="overview" role="tabpanel" aria-labelledby="overview-tab">
                            <div class="profile-section">
                                <h3>Progress Overview</h3>
                                <div class="row g-4">
                                    <div class="col-md-4">
                                        <div class="stats-card">
                                            <div class="stats-icon">
                                                <i class="fas fa-book"></i>
                                            </div>
                                            <div class="stats-info">
                                                <h4>Courses Enrolled</h4>
                                                <p data-stat="coursesEnrolled">0 Active Courses</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="stats-card">
                                            <div class="stats-icon">
                                                <i class="fas fa-clock"></i>
                                            </div>
                                            <div class="stats-info">
                                                <h4>Learning Time</h4>
                                                <p data-stat="learningTime">0 Hours</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="stats-card">
                                            <div class="stats-icon">
                                                <i class="fas fa-certificate"></i>
                                            </div>
                                            <div class="stats-info">
                                                <h4>Certificates</h4>
                                                <p data-stat="certificatesEarned">0 Earned</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="profile-section">
                                <h3>Recent Activity</h3>
                                <div class="activity-timeline">
                                    <div class="activity-item">
                                        <div class="activity-icon">
                                            <i class="fas fa-book-reader"></i>
                                        </div>
                                        <div class="activity-content">
                                            <h4>Course Progress</h4>
                                            <p>Completed Chapter 3 in "ADHD Fundamentals"</p>
                                            <span class="activity-time">2 hours ago</span>
                                        </div>
                                    </div>
                                    <div class="activity-item">
                                        <div class="activity-icon">
                                            <i class="fas fa-certificate"></i>
                                        </div>
                                        <div class="activity-content">
                                            <h4>Achievement Unlocked</h4>
                                            <p>Earned "Quick Learner" badge</p>
                                            <span class="activity-time">Yesterday</span>
                                        </div>
                                    </div>
                                    <div class="activity-item">
                                        <div class="activity-icon">
                                            <i class="fas fa-comments"></i>
                                        </div>
                                        <div class="activity-content">
                                            <h4>Community Interaction</h4>
                                            <p>Participated in "Managing ADHD at Work" discussion</p>
                                            <span class="activity-time">2 days ago</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="profile-section">
                                <h3>Learning Progress</h3>
                                <div class="learning-progress">
                                    <div class="progress-chart">
                                        <canvas id="learningProgressChart"></canvas>
                                    </div>
                                    <div class="progress-stats">
                                        <div class="progress-stat-item">
                                            <h4>Weekly Goal</h4>
                                            <p>4/5 hours completed</p>
                                        </div>
                                        <div class="progress-stat-item">
                                            <h4>Monthly Progress</h4>
                                            <p>18/20 hours completed</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="profile-section">
                                <h3>Notifications Center</h3>
                                <div class="notifications-list">
                                    <div class="notification-item unread">
                                        <div class="notification-icon">
                                            <i class="fas fa-bell"></i>
                                        </div>
                                        <div class="notification-content">
                                            <h4>New Course Available</h4>
                                            <p>"Advanced ADHD Management Techniques" is now available</p>
                                            <span class="notification-time">1 hour ago</span>
                                        </div>
                                        <button class="btn btn-sm btn-outline-purple mark-read-btn" title="Mark as read">
                                            <i class="fas fa-check"></i>
                                        </button>
                                    </div>
                                    <div class="notification-item">
                                        <div class="notification-icon">
                                            <i class="fas fa-calendar-check"></i>
                                        </div>
                                        <div class="notification-content">
                                            <h4>Appointment Reminder</h4>
                                            <p>Upcoming session with Dr. Smith tomorrow at 2 PM</p>
                                            <span class="notification-time">3 hours ago</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Courses Tab -->
                        <div class="tab-pane fade" id="courses" role="tabpanel" aria-labelledby="courses-tab">
                            <div class="profile-section">
                                <div class="d-flex justify-content-between align-items-center mb-4">
                                    <h3>My Courses</h3>
                                    <a href="courses.html" class="btn btn-outline-purple">
                                        <i class="fas fa-plus"></i> Enroll in New Course
                                    </a>
                                </div>
                                <div class="courses-grid">
                                    <!-- Courses will be loaded here by JavaScript -->
                                </div>
                            </div>
                        </div>

                        <!-- Appointments Tab -->
                        <div class="tab-pane fade" id="appointments" role="tabpanel" aria-labelledby="appointments-tab">
                            <div class="profile-section">
                                <div class="d-flex justify-content-between align-items-center mb-4">
                                    <h3>My Appointments</h3>
                                    <a href="doctors.html" class="btn btn-outline-purple">
                                        <i class="fas fa-plus"></i> Book New Appointment
                                    </a>
                                </div>
                                <div class="appointments-grid">
                                    <!-- Appointments will be loaded here by JavaScript -->
                                </div>
                            </div>
                        </div>

                        <!-- Settings Tab -->
                        <div class="tab-pane fade" id="settings" role="tabpanel" aria-labelledby="settings-tab">
                            <div class="profile-section">
                                <h3>Profile Settings</h3>
                                <form id="profileSettingsForm" class="settings-form">
                                    <div class="mb-3">
                                        <label for="settingsName" class="form-label">Full Name</label>
                                        <input type="text" class="form-control" id="settingsName" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="settingsEmail" class="form-label">Email Address</label>
                                        <input type="email" class="form-control" id="settingsEmail" readonly>
                                        <small class="form-text text-muted">Email cannot be changed</small>
                                    </div>
                                    <div class="mb-3">
                                        <label for="settingsPassword" class="form-label">New Password</label>
                                        <div class="input-group">
                                            <input type="password" class="form-control" id="settingsPassword" minlength="8">
                                            <button class="btn btn-outline-secondary" type="button" id="toggleSettingsPassword">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </div>
                                        <small class="form-text text-muted">Leave blank to keep current password</small>
                                    </div>
                                    <div class="mb-3">
                                        <label for="settingsPhone" class="form-label">Phone Number</label>
                                        <input type="tel" class="form-control" id="settingsPhone">
                                    </div>
                                    <div class="mb-3">
                                        <label for="settingsTimezone" class="form-label">Timezone</label>
                                        <select class="form-select" id="settingsTimezone">
                                            <option value="UTC">UTC</option>
                                            <option value="EST">Eastern Time</option>
                                            <option value="CST">Central Time</option>
                                            <option value="PST">Pacific Time</option>
                                        </select>
                                    </div>
                                    <button type="submit" class="btn btn-purple">Save Changes</button>
                                </form>
                            </div>

                            <div class="profile-section">
                                <h3>Security Settings</h3>
                                <div class="security-settings">
                                    <div class="mb-4">
                                        <h4>Two-Factor Authentication</h4>
                                        <p class="text-muted">Add an extra layer of security to your account</p>
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" id="twoFactorAuth">
                                            <label class="form-check-label" for="twoFactorAuth">Enable 2FA</label>
                                        </div>
                                    </div>
                                    <div class="mb-4">
                                        <h4>Login History</h4>
                                        <div class="login-history">
                                            <div class="login-item">
                                                <div class="device-info">
                                                    <i class="fas fa-laptop me-2"></i>
                                                    <span>Windows PC - Chrome</span>
                                                </div>
                                                <div class="login-time">
                                                    <span>Today, 2:30 PM</span>
                                                    <span class="badge bg-success">Current Session</span>
                                                </div>
                                            </div>
                                            <div class="login-item">
                                                <div class="device-info">
                                                    <i class="fas fa-mobile-alt me-2"></i>
                                                    <span>iPhone - Safari</span>
                                                </div>
                                                <div class="login-time">
                                                    <span>Yesterday, 10:15 AM</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="profile-section">
                                <h3>Data Management</h3>
                                <div class="data-management">
                                    <div class="mb-4">
                                        <h4>Export Data</h4>
                                        <p class="text-muted">Download a copy of your data</p>
                                        <div class="btn-group">
                                            <button class="btn btn-outline-purple" title="Export all data">
                                                <i class="fas fa-download me-2"></i>Export All Data
                                            </button>
                                            <button class="btn btn-outline-purple dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" title="Show export options">
                                                <span class="visually-hidden">Toggle Dropdown</span>
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li><a class="dropdown-item" href="#"><i class="fas fa-file-alt me-2"></i>Course Progress</a></li>
                                                <li><a class="dropdown-item" href="#"><i class="fas fa-calendar me-2"></i>Appointments</a></li>
                                                <li><a class="dropdown-item" href="#"><i class="fas fa-certificate me-2"></i>Certificates</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="mb-4">
                                        <h4>Import Data</h4>
                                        <p class="text-muted">Import your data from another platform</p>
                                        <div class="input-group">
                                            <input type="file" class="form-control" id="dataImport" aria-label="Import data file">
                                            <button class="btn btn-outline-purple" title="Import data">
                                                <i class="fas fa-upload me-2"></i>Import
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="profile-section">
                                <h3>Account Management</h3>
                                <div class="account-management">
                                    <button class="btn btn-outline-danger" type="button" id="deactivateAccount">
                                        <i class="fas fa-user-times me-2"></i>Deactivate Account
                                    </button>
                                    <small class="form-text text-muted d-block mt-2">
                                        This will temporarily disable your account. You can reactivate it anytime by logging in.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- New Appointment Modal -->
    <div class="modal fade" id="newAppointmentModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content appointment-modal">
                <div class="modal-header">
                    <h5 class="modal-title">Schedule New Appointment</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close" title="Close appointment modal"></button>
                </div>
                <div class="modal-body">
                    <form id="newAppointmentForm">
                        <div class="mb-3">
                            <label class="form-label">Doctor</label>
                            <select class="form-select custom-select" required aria-label="Select doctor">
                                <option value="">Select a doctor</option>
                                <option value="1">Dr. Sarah Smith</option>
                                <option value="2">Dr. Michael Johnson</option>
                                <option value="3">Dr. Emily Brown</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Date</label>
                            <input type="date" class="form-control custom-input" required aria-label="Select appointment date">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Time</label>
                            <input type="time" class="form-control custom-input" required aria-label="Select appointment time">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Type</label>
                            <select class="form-select custom-select" required aria-label="Select appointment type">
                                <option value="video">Video Consultation</option>
                                <option value="inperson">In-Person Visit</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Notes</label>
                            <textarea class="form-control custom-input" rows="3" aria-label="Appointment notes"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-purple" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-purple">Schedule Appointment</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Reschedule Modal -->
    <div class="modal fade" id="rescheduleModal" tabindex="-1" aria-labelledby="rescheduleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="rescheduleModalLabel">Reschedule Appointment</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" title="Close modal"></button>
                </div>
                <div class="modal-body">
                    <!-- Form will be loaded here by JavaScript -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-purple" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" form="rescheduleForm" class="btn btn-purple">Confirm Reschedule</button>
                </div>
            </div>
        </div>
    </div>

    <script src="./Js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="./Js/auth.js"></script>
    <script src="./Js/common.js"></script>
    <script src="./Js/profile.js"></script>
    <script src="./Js/theme.js"></script>
</body>
</html> 